<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="theme-color" content="#0ea5e9" />

    <!-- Clean first paint; Finalize SEO will upgrade these -->
    <title>Built4You</title>
    <meta
      name="description"
      content="Built4You builds fast, mobile-first custom websites for small businesses. $0 demos. Subscription or one-time pricing."
    />
    <meta name="robots" content="index,follow" />

    <!-- Icons (generated by OG/icons step) -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#10b981" />
    <link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials" />

    <!-- Minimal, clean preloader -->
    <style>
      :root {
        --bg1: #059669; /* emerald-600 */
        --bg2: #2563eb; /* blue-600 */
      }
      html, body { height: 100%; margin: 0; background: #ffffff; }
      #root { isolation: isolate; }

      .b4y-preload {
        position: fixed; inset: 0; z-index: 9999;
        display: grid; place-items: center;
        background: #ffffff;
        color: #000000;
        font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        transition: opacity .35s ease, visibility .35s ease;
      }
      .b4y-preload.hidden { opacity: 0; visibility: hidden; }

      .b4y-card {
        text-align: center;
        padding: 24px 28px;
      }
      .b4y-logo {
        width: 48px; height: 48px; display: block; margin: 0 auto 12px auto;
      }
      .b4y-title {
        margin: 0 0 16px 0;
        font-weight: 800;
        font-size: clamp(20px, 4.8vw, 28px);
        letter-spacing: .2px;
      }

      /* Gradient ring spinner using a conic gradient with an inner mask */
      .b4y-ring {
        width: 48px; height: 48px; border-radius: 9999px; margin: 0 auto;
        background:
          conic-gradient(from 0turn, var(--bg1), var(--bg2), var(--bg1));
        -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 6px), #000 0);
                mask: radial-gradient(farthest-side, transparent calc(100% - 6px), #000 0);
        animation: spin 1s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
    </style>

    <!-- Smart 404 â†’ restore intended path (keep this) -->
    <script>
      (function () {
        var l = window.location;
        if (l.search && l.search.indexOf("?p=") === 0) {
          var params = new URLSearchParams(l.search);
          var p = params.get("p") || "/";
          var q = params.get("q");
          if (q) p += "?" + q.replace(/~and~/g, "&");
          var h = l.hash || "";
          window.history.replaceState(null, null, p + h);
        }
      })();
    </script>
  </head>
  <body>
    <!-- Branded preloader until React mounts -->
    <div id="b4y-preload" class="b4y-preload" aria-hidden="true">
      <div class="b4y-card">
        <img src="/favicon.ico" alt="Built4You logo" class="b4y-logo" />
        <h1 class="b4y-title">Loading..</h1>
        <div class="b4y-ring" aria-hidden="true"></div>
      </div>
    </div>

    <div id="root"></div>

    <script type="module" src="/src/main.tsx"></script>
    <script>
      // Hide preloader after first paint
      window.addEventListener("load", function () {
        var el = document.getElementById("b4y-preload");
        if (el) requestAnimationFrame(function () { el.classList.add("hidden"); });
      });
    </script>
  </body>
</html>
